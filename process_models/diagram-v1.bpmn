<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0jjn6x9" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.5.1" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.18.0">
  <bpmn:collaboration id="Train-Traveler-Network">
    <bpmn:extensionElements />
    <bpmn:participant id="Participant_0iflk3s" name="Traveler" processRef="Process_05mjop3" />
  </bpmn:collaboration>
  <bpmn:process id="Process_05mjop3" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_1z00xnp</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="Activity_08j7bde" name="Pick Origin and Destination Cities" camunda:formRef="Form_1o8oafk" camunda:formRefBinding="latest">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:outputParameter name="origin_city" />
          <camunda:outputParameter name="destination_city" />
          <camunda:outputParameter name="departure_date" />
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1z00xnp</bpmn:incoming>
      <bpmn:outgoing>Flow_1s63nd1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="Event_0gxhkx8" attachedToRef="Activity_08j7bde">
      <bpmn:outgoing>Flow_1fd9qcv</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0wuqguv">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT1H</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1z00xnp" sourceRef="StartEvent_1" targetRef="Activity_08j7bde" />
    <bpmn:sequenceFlow id="Flow_1s63nd1" sourceRef="Activity_08j7bde" targetRef="Activity_0xle3xl" />
    <bpmn:sequenceFlow id="Flow_1fd9qcv" sourceRef="Event_0gxhkx8" targetRef="Event_0322uxq" />
    <bpmn:endEvent id="Event_0322uxq" name="Request is ignored">
      <bpmn:incoming>Flow_1fd9qcv</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:subProcess id="Activity_0xle3xl">
      <bpmn:incoming>Flow_1s63nd1</bpmn:incoming>
      <bpmn:subProcess id="Activity_0fiaqsl" triggeredByEvent="true">
        <bpmn:startEvent id="Event_129r30v" name="Request Is Revoked">
          <bpmn:outgoing>Flow_1m6tz8f</bpmn:outgoing>
          <bpmn:messageEventDefinition id="MessageEventDefinition_0lgh458" messageRef="Message_0cqn7ht" />
        </bpmn:startEvent>
        <bpmn:sequenceFlow id="Flow_1m6tz8f" sourceRef="Event_129r30v" targetRef="Event_15v98hd" />
        <bpmn:endEvent id="Event_15v98hd">
          <bpmn:incoming>Flow_1m6tz8f</bpmn:incoming>
          <bpmn:errorEventDefinition id="ErrorEventDefinition_17vo20a" errorRef="Error_1g48p86" />
        </bpmn:endEvent>
      </bpmn:subProcess>
      <bpmn:dataStoreReference id="DataStoreReference_0odvra9" name="Registred Countries" />
      <bpmn:endEvent id="Event_0b0z0ku" name="Can&#39;t calculate for invalid locations">
        <bpmn:incoming>Flow_0euffbe</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_1skcwe4" errorRef="Error_18mohiq" />
      </bpmn:endEvent>
      <bpmn:serviceTask id="Activity_1sin73h" name="Identify Crossed Countries" camunda:type="external" camunda:topic="identifyCountries">
        <bpmn:extensionElements>
          <camunda:inputOutput>
            <camunda:inputParameter name="origin_city" />
            <camunda:inputParameter name="destination_city" />
            <camunda:outputParameter name="crossed_countries">
              <camunda:list />
            </camunda:outputParameter>
          </camunda:inputOutput>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_047bg2c</bpmn:incoming>
        <bpmn:outgoing>Flow_0w3aoaa</bpmn:outgoing>
        <bpmn:property id="Property_1do88wq" name="__targetRef_placeholder" />
        <bpmn:dataInputAssociation id="DataInputAssociation_1pbqn08">
          <bpmn:sourceRef>DataStoreReference_0odvra9</bpmn:sourceRef>
          <bpmn:targetRef>Property_1do88wq</bpmn:targetRef>
        </bpmn:dataInputAssociation>
      </bpmn:serviceTask>
      <bpmn:boundaryEvent id="Event_12s4o52" attachedToRef="Activity_1sin73h">
        <bpmn:outgoing>Flow_0euffbe</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_033xxxl" />
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_0euffbe" sourceRef="Event_12s4o52" targetRef="Event_0b0z0ku" />
      <bpmn:serviceTask id="Activity_1mnjv63" name="Navigate Crossed Countries" camunda:type="external" camunda:topic="navigateCountries">
        <bpmn:extensionElements>
          <camunda:inputOutput>
            <camunda:inputParameter name="origin_city" />
            <camunda:inputParameter name="destination_city" />
            <camunda:inputParameter name="crossed_countries" />
            <camunda:inputParameter name="departure_date" />
          </camunda:inputOutput>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0w3aoaa</bpmn:incoming>
        <bpmn:outgoing>Flow_1c5mxgz</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_0w3aoaa" sourceRef="Activity_1sin73h" targetRef="Activity_1mnjv63" />
      <bpmn:startEvent id="Event_0nkau9e">
        <bpmn:outgoing>Flow_047bg2c</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_047bg2c" sourceRef="Event_0nkau9e" targetRef="Activity_1sin73h" />
      <bpmn:endEvent id="Event_0q1bmv9">
        <bpmn:incoming>Flow_1c5mxgz</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1c5mxgz" sourceRef="Activity_1mnjv63" targetRef="Event_0q1bmv9" />
      <bpmn:textAnnotation id="TextAnnotation_122450m">
        <bpmn:text>Invalid locations</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_07rwilr" sourceRef="Event_12s4o52" targetRef="TextAnnotation_122450m" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_18yc5v5" sourceRef="Event_18g4gdv" targetRef="Event_1g1hpbt" />
    <bpmn:endEvent id="Event_1g1hpbt" name="Process Terminated">
      <bpmn:incoming>Flow_18yc5v5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:boundaryEvent id="Event_18g4gdv" attachedToRef="Activity_0xle3xl">
      <bpmn:outgoing>Flow_18yc5v5</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1krxo6d" />
    </bpmn:boundaryEvent>
    <bpmn:textAnnotation id="TextAnnotation_13v2dfq">
      <bpmn:text>After 60 minutes</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0w0616d" sourceRef="Event_0gxhkx8" targetRef="TextAnnotation_13v2dfq" />
  </bpmn:process>
  <bpmn:message id="Message_0cqn7ht" name="Message_0cqn7ht" />
  <bpmn:error id="Error_18mohiq" name="Error_2joi2cg" errorCode="456" camunda:errorMessage="Can&#39;t calculated invalid location" />
  <bpmn:error id="Error_1g48p86" name="Error_3jf0r2b" errorCode="123" camunda:errorMessage="Request is revoked" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Train-Traveler-Network">
      <bpmndi:BPMNShape id="Participant_0iflk3s_di" bpmnElement="Participant_0iflk3s" isHorizontal="true">
        <dc:Bounds x="129" y="53" width="1491" height="867" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_13v2dfq_di" bpmnElement="TextAnnotation_13v2dfq">
        <dc:Bounds x="340" y="243" width="72" height="45" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="179" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_176vq09_di" bpmnElement="Activity_08j7bde">
        <dc:Bounds x="270" y="140" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0322uxq_di" bpmnElement="Event_0322uxq">
        <dc:Bounds x="342" y="302" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="334" y="345" width="53" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1g1hpbt_di" bpmnElement="Event_1g1hpbt">
        <dc:Bounds x="642" y="802" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="633" y="845" width="55" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0w0616d_di" bpmnElement="Association_0w0616d">
        <di:waypoint x="312" y="233" />
        <di:waypoint x="340" y="263" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0xle3xl_di" bpmnElement="Activity_0xle3xl" isExpanded="true">
        <dc:Bounds x="490" y="140" width="750" height="600" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_122450m_di" bpmnElement="TextAnnotation_122450m">
        <dc:Bounds x="730" y="260" width="100" height="30" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0nkau9e_di" bpmnElement="Event_0nkau9e">
        <dc:Bounds x="530" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wujoiz_di" bpmnElement="Activity_1mnjv63">
        <dc:Bounds x="820" y="170" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ds078p_di" bpmnElement="Activity_1sin73h">
        <dc:Bounds x="650" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13dcn6t_di" bpmnElement="Event_0b0z0ku">
        <dc:Bounds x="762" y="302" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="738" y="345" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_0odvra9_di" bpmnElement="DataStoreReference_0odvra9">
        <dc:Bounds x="545" y="275" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="548" y="332" width="48" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0q1bmv9_di" bpmnElement="Event_0q1bmv9">
        <dc:Bounds x="992" y="192" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_07rwilr_di" bpmnElement="Association_07rwilr">
        <di:waypoint x="696" y="258" />
        <di:waypoint x="730" y="275" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0od9s9h_di" bpmnElement="Activity_0fiaqsl" isExpanded="true">
        <dc:Bounds x="540" y="410" width="190" height="140" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0x9ou56_di" bpmnElement="Event_129r30v">
        <dc:Bounds x="572" y="452" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="563" y="495" width="54" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1m6lxfn_di" bpmnElement="Event_15v98hd">
        <dc:Bounds x="662" y="452" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1m6tz8f_di" bpmnElement="Flow_1m6tz8f">
        <di:waypoint x="608" y="470" />
        <di:waypoint x="662" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0dy0wi6_di" bpmnElement="Event_12s4o52">
        <dc:Bounds x="662" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_047bg2c_di" bpmnElement="Flow_047bg2c">
        <di:waypoint x="566" y="210" />
        <di:waypoint x="650" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0w3aoaa_di" bpmnElement="Flow_0w3aoaa">
        <di:waypoint x="750" y="210" />
        <di:waypoint x="820" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0euffbe_di" bpmnElement="Flow_0euffbe">
        <di:waypoint x="680" y="268" />
        <di:waypoint x="680" y="320" />
        <di:waypoint x="762" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1c5mxgz_di" bpmnElement="Flow_1c5mxgz">
        <di:waypoint x="920" y="210" />
        <di:waypoint x="992" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0mtsmsg_di" bpmnElement="Event_0gxhkx8">
        <dc:Bounds x="282" y="202" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0y54zmr_di" bpmnElement="Event_18g4gdv">
        <dc:Bounds x="530" y="722" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1z00xnp_di" bpmnElement="Flow_1z00xnp">
        <di:waypoint x="215" y="180" />
        <di:waypoint x="270" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1s63nd1_di" bpmnElement="Flow_1s63nd1">
        <di:waypoint x="370" y="180" />
        <di:waypoint x="490" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fd9qcv_di" bpmnElement="Flow_1fd9qcv">
        <di:waypoint x="300" y="238" />
        <di:waypoint x="300" y="320" />
        <di:waypoint x="342" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18yc5v5_di" bpmnElement="Flow_18yc5v5">
        <di:waypoint x="548" y="758" />
        <di:waypoint x="548" y="820" />
        <di:waypoint x="642" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_1pbqn08_di" bpmnElement="DataInputAssociation_1pbqn08">
        <di:waypoint x="595" y="283" />
        <di:waypoint x="652" y="245" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
